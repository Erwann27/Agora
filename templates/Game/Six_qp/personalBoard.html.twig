{% block personalBoard %}
    <div class="grid grid-rows-2 grid-cols-5 w-full mx-2 mt-5
                landscape:md:flex landscape:md:mt-2 landscape:md-justify-center landscape:md:align-center
                {#lg:grid lg:grid-rows-1 lg:grid-cols-10 lg:mt-2#} lg:justify-center {#lg:align-center#}">
        {% set gameId = game.id %}
        {% set interval = 6 %}
        {% set startAngle = (playerCards|length - 1) * -1 * interval / 2 %}
        {% set i = 0 %}
        {# TODO comment about loaded values#}
        <div class="rotate-[0deg] rotate-[3deg] rotate-[6deg] rotate-[9deg] rotate-[12deg] rotate-[15deg]
        rotate-[18deg] rotate-[21deg] rotate-[24deg] rotate-[27deg]"></div>
        <div class="-rotate-[3deg] -rotate-[6deg] -rotate-[9deg] -rotate-[12deg] -rotate-[15deg]
        -rotate-[18deg] -rotate-[21deg] -rotate-[24deg] -rotate-[27deg]"></div>
        <div class="translate-x-[6px] translate-x-[18px] translate-x-[42px] translate-x-[84px] translate-x-[126px]
        translate-x-[168px] translate-x-[21px] translate-x-[63px] translate-x-[105px] translate-x-[147px]
        translate-x-[189px]"></div>
        <div class="-translate-x-[6px] -translate-x-[18px] -translate-x-[42px] -translate-x-[84px] -translate-x-[126px]
        -translate-x-[168px] -translate-x-[21px] -translate-x-[63px] -translate-x-[105px] -translate-x-[147px]
        -translate-x-[189px]"></div>
        <div class="translate-y-[7px] translate-y-[24px] translate-y-[22.5px] translate-y-[52px] translate-y-[92px]
        translate-y-[12px] translate-y-[35px] translate-y-[70px] translate-y-[117px]"></div>
        <div class="hover:rotate-[0deg]"></div>
        {% set translates_y = [
            {"0": "0"},
            {"6": "7"},
            {"9": "12"},
            {"12": "24"},
            {"15": "35"},
            {"18": "52"},
            {"21": "70"},
            {"24": "92"},
            {"27": "117"}
        ]%}
        {% for card in playerCards %}
            {% set angle = startAngle + i * interval %}
            {% set factor = angle / 2%}
            {% set translate_x = 2 * angle + (factor * 10) %}
            <div class="hover:z-10 hover:overflow-visible hover:-translate-y-14 hover:rotate-[0deg] w-fit overflow-visible origin-bottom
                transition ease-in-out delay-100
                {% if translate_x > 0 %}-{% endif %}translate-x-[{{ translate_x|abs }}px]
                translate-y-[{{ translates_y|column(angle|abs)|first }}px]
                {% if angle < 0 %}-{% endif %}rotate-[{{angle|abs}}deg] z-{{ i }}">
                {% set cardNumber = card.value %}
                <button type="button" {{ stimulus_action('sixqp', 'selectCard', 'click',
                    {url: path('app_game_sixqp_select', {idCard: card.id, idGame: game.id})}) }}>
                    <img
                         src="{{ asset('resourcesGames/6QP/cardsImages/' ~ card.value ~ ".png") }}"
                         alt="{{ cardNumber }}"
                    >
                </button>
            </div>
            {% set i = i + 1 %}
        {% endfor %}
    </div>
    <script>
        {% set path = path('app_game_show_sixqp', {'id': game.id}) ~ 'personalBoard' ~ player.id %}
        const eventSourcePersonalBoard = new EventSource("{{ mercure(path)|escape('js') }}");
        eventSourcePersonalBoard.onmessage = event => {
            let personalBoard = document.getElementById('personalBoard');
            personalBoard.innerHTML = event.data;
        }
    </script>
{% endblock %}