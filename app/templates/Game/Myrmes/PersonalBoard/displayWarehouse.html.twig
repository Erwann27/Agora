{#
This section displays the storage of the player
@param :
@return :
#}

{# Definition of variables #}
{% set mustThrowResourcesInWinter = not isPreview
    and playerPhase == PHASE_WINTER
    and mustThrowResources %}

<div>
<p class="relative pt-[1vw] w-fit {% if isPreview %}text_mini {% else %} text2-4 {% endif %}">Entrep√¥t</p>
    {% if mustThrowResourcesInWinter and not isPreview %}
        <p class="relative mt-[0.5vw] flex align-middle text-center bg-black bg-opacity-25 rounded-xl w-fit text-lg">
            Cliquez pour jeter <br> une ressource
        </p>
    {% endif %}
</div>
<div class="items-center overflow-y-auto h-full" id="warehouse">
    <div class="grid grid-cols-2 grid-rows-3 w-fit gap-[0.3vw]" id="warehouseCases">
        {#warehouse's cases#}
        {% set count = 0 %}
        {% for resourcePlayer in player.personalBoardMYR.playerResourceMYRs %}
            {% if resourcePlayer.quantity >= 1 %}
                {% for i in 1..resourcePlayer.quantity %}
                    {% set count = count + 1 %}
                    <{% if mustThrowResourcesInWinter %}button{% else %}div{% endif%}
                            type="button"
                             class="relative
                                {% if isPreview %}
                                    w-[1vw] h-[1vw]
                                {% else %}
                                    w-[3vw] h-[3vw]
                                {% endif %}
                                {% if (player.personalBoard.anthillLevel < 2 and count <= 4 )
                                    or (player.personalBoard.anthillLevel >= 2 and count <= 6 )%}
                                    bg-[#ffffff99]
                                {% else %}
                                    bg-[#00000099]
                                {% endif %}"
                            {{ stimulus_action('myrmes','throwResourceFromWarehouse','click') }}
                    >
                        <img class="size-full"
                             src="{{ asset('resourcesGames/Myrmes/resources/' ~
                                 resourcePlayer.resource.description ~ '.svg') }}"
                             alt="{{resourcePlayer.resource.description}}">
                    </{% if mustThrowResourcesInWinter %}button{% else %}div{% endif %}>
                {% endfor %}
            {% endif %}
        {% endfor %}
        {% if count < 6 %}
            {% for i in count+1..6 %}
                <div
                        type="button"
                        class="relative
                                        {% if isPreview %}
                                            w-[1vw] h-[1vw]
                                        {% else %}
                                            w-[3vw] h-[3vw]
                                        {% endif %}
                                        {% if i < 5 %} bg-[#ffffff99]
                                        {% else %} bg-[#00000099]
                                        {% endif %}"
                >
                </div>
            {% endfor %}
        {% endif %}
    </div>
</div>